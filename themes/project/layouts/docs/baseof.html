<!DOCTYPE html>
<html lang="{{ .Site.LanguageCode }}">
  {{ partial "head.html" . }}

  <body>
    <div id="all">
      <header>
        {{ partial "nav.html" . }}
      </header>
      
      <div class="slide_nav isH5">
        <div class="docsMenu" id="slideNav">
          <img src="/img/docs/caidan-close.png" alt="Menu" />
        </div>
        {{ $version := "1.0.0"}}
        {{ $versionArr := split $.File.Path "docs/" }}
        {{ $version := index $versionArr 1}}
        {{ $version := split $version "/" }}
        {{ $version := index $version 0}}
        {{ $lang := .Site.LanguageCode}}
        <div class="select">
          <select id="docVersion">
            {{ range .Site.Data.docsVersion }}
            {{ if eq $lang "zh-cn" }}
            <option link="{{.defaultUrlZh}}">{{.version}}</option>
            {{ else }}
            <option link="{{.defaultUrlEn}}">{{.version}}</option>
            {{ end }}
            {{ end }}
          </select>
          
        </div>
      </div>

      <div id="heading-breadcrumbs" class="isPc">
        <div class="container">
            <div class="row">
                <div class="col-md-12">
                  <h1 class="text-uppercase">{{ i18n "main_docs" }}</h1>
                </div>
            </div>
        </div>
      </div>

      <div id="content">
          <input type="checkbox" style="display: none;" id="menu-control" />
          <main class="docscontainer">
            <aside class="book-menu fixed" id="menu">
              {{ partial "docs/docsVersion" . }}
              {{ partial "docs/menu" . }}
            </aside>

            
            <div class="book-page" id="page">
              <div class="isH5 isPad breadcrumbs">
        
              </div>

              {{ template "main" . }} 
              {{ partial "docs/git-footer" . }} 
              {{ partial "docs/inject/footer" . }}
              <p class="affirm">{{ i18n "main_agreement" | safeHTML }}</p>
              <ul class="pager">
                <li class="previous"><a href="javaScript:;">&larr; {{ i18n "newer" }}</a></li>
                <li class="next"><a href="javaScript:;">{{ i18n "older" }} &rarr;</a></li>
              </ul>
            </div>

            
           
            
          </main>
      </div>
      <!-- /#content -->

      <!-- {{ partial "footer.html" . }} -->
    </div>
    <!-- /#all -->

    {{ partial "scripts.html" . }}
    <script>
      $(document).ready(() => {
        if((navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i))) {
          console.log($('.book-page').height())
          const h = $('.book-page').height();
          $('.docscontainer').height(h);
			  }
      });
      //下拉框选中到当前版本
      var url = window.location.href;
      var version = url.split('docs')[1].split('/')[1].split('/')[0];//通过url获取版本号
      $('#docVersion').val(version);
      //版本下拉框切换事件
      $('#docVersion').change(function(){
        var optionCheck = $('#docVersion').find("option:checked");
        window.location.href = optionCheck.attr('link');
      });
    </script>
  </body>
</html>
